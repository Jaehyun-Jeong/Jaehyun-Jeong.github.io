{%- assign _author = site.author -%}

<style>
/* ============================
   White Minimal Theme Tokens
   ============================ */
:root{
  --sb-width: 250px;
  --bg: #f7f7f7;              /* pure white */
  --text: #111111;            /* near-black */
  --muted: #6b7280;           /* gray-500 */
  --faint: #9ca3af;           /* gray-400 */
  --line: #e5e7eb;            /* gray-200 */
  --line-strong:#d1d5db;      /* gray-300 */
  --hover: #f7f7f8;           /* soft hover bg */
  --focus: #111111;           /* focus ring */
}

/* ============================
   Sidebar base (structure kept)
   ============================ */
.fancy-profile-sidebar{
  background: var(--bg);
  color: var(--text);
  position: fixed;
  top:0; left:0;
  width: var(--sb-width);
  height: 100vh; min-height: 100vh;
  display:flex; flex-direction:column;
  z-index:100;
  box-shadow: inset -1px 0 0 var(--line); /* subtle right border */
}

/* Header: flat, no tint */
.profile-header{
  padding: 1.6rem 1.25rem 1.1rem;
  text-align:center;
  border-bottom:1px solid var(--line);
  background: transparent;
}

/* Avatar: tiny ring, no glow */
.profile-avatar-fancy{ display:inline-block; margin-bottom:.85rem; }
.profile-avatar-fancy img{
  width:96px; height:96px; border-radius:999px;
  border:2px solid #eeeeee;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  transition: transform .15s ease;
}
.profile-avatar-fancy:hover img{ transform: scale(1.02); }

/* Name / Title */
.profile-name-fancy{
  margin:0 0 .25rem 0;
  font-size:1.1rem; font-weight:700; letter-spacing:.1px;
}
.profile-title{
  margin:0; font-size:.86rem; color:var(--muted); font-weight:500;
}

/* Bio */
.profile-bio-fancy{
  font-size:.88rem; line-height:1.5;
  color:var(--muted);
  margin:.9rem 0 0; padding:0 .75rem;
}

/* Stats: clean separators */
.profile-stats{
  display:flex; justify-content:space-around;
  padding:.9rem 0; margin-top:1rem;
  border-top:1px solid var(--line);
  border-bottom:1px solid var(--line);
}
.stat-item{ text-align:center; }
.stat-number{
  display:block; font-weight:700; font-size:1.02rem; color:var(--text);
}
.stat-label{
  font-size:.70rem; color:var(--faint);
  text-transform:uppercase; letter-spacing:.6px;
}

/* ============================
   Links (flat, all-white)
   ============================ */
.profile-links-fancy{
  padding: 1rem 1.25rem;
  flex-grow:1; display:flex; flex-direction:column;
}

/* Flat list with only dividers; no cards, no shadows */
.fancy-link{
  display:flex; align-items:center; gap:.6rem;
  padding:.6rem .25rem;
  color: var(--text);
  text-decoration:none;
  border-bottom:1px solid var(--line);
  transition: background-color .12s ease, color .12s ease, border-color .12s ease;
  position:relative;
}
.profile-links-fancy .fancy-link:first-child{
  border-top:1px solid var(--line);
}

/* Hover: soft gray bg, stronger divider */
.fancy-link:hover{
  background: var(--hover);
  border-color: var(--line-strong);
  color: var(--text);
}

/* Active/current page: bold + left keyline */
.fancy-link.is-active,
.fancy-link[aria-current="page"]{
  font-weight:600;
  border-color: var(--line-strong);
}
.fancy-link.is-active::before,
.fancy-link[aria-current="page"]::before{
  content:""; position:absolute; left:-1.25rem; top:0; bottom:0;
  width:2px; background: var(--text);
}

/* Icons minimal, monochrome */
.fancy-link i{
  width:1rem; text-align:center; opacity:.85;
}

/* Footer: flat white, top border only */
.profile-footer{
  margin-top:auto; padding:.9rem 1rem;
  border-top:1px solid var(--line);
  background: transparent;
  text-align:center;
}
.footer-text{ margin:0; font-size:.75rem; color:var(--faint); }

/* Layout fix for theme main area */
.page__main, .page__viewport{ padding-left:0 !important; }
.main{ padding-left:1rem !important; }

/* Accessibility: focus ring */
.fancy-link:focus-visible{
  outline:2px solid var(--focus);
  outline-offset:2px;
}

/* Motion reduction */
@media (prefers-reduced-motion: reduce){
  .profile-avatar-fancy img, .fancy-link{ transition:none !important; }
}

/* Responsive: stack on top for small screens */
@media (max-width: 900px){
  .fancy-profile-sidebar{
    position:relative; width:100%;
    height:auto; min-height:auto;
    box-shadow:none; border-bottom:1px solid var(--line);
  }
}
</style>

<div class="fancy-profile-sidebar">
  <div class="profile-header">
    {%- if _author.avatar -%}
      <div class="profile-avatar-fancy">
        {%- include snippets/get-nav-url.html path=_author.avatar -%}
        {%- assign _author_avatar = __return -%}
        <img src="{{ _author_avatar }}" alt="{{ _author.name }}" />
      </div>
    {%- endif -%}

    {%- if _author.name -%}
      <h3 class="profile-name-fancy">{{ _author.name }}</h3>
      <p class="profile-title">Applied Mathematics Graduate</p>
    {%- endif -%}
  </div>

  {%- if _author.bio -%}
    <div class="profile-bio-fancy">
      {{ _author.bio }}
    </div>
  {%- endif -%}

  <div class="profile-stats">
    <div class="stat-item">
      <span class="stat-number">{{ site.posts.size }}</span>
      <span class="stat-label">Posts</span>
    </div>
    <div class="stat-item">
      <span class="stat-number">{{ site.categories.size | default: '2' }}</span>
      <span class="stat-label">Topics</span>
    </div>
    <div class="stat-item">
      <span class="stat-number">{{ site.time | date: '%Y' | minus: 2024 | plus: 1 }}</span>
      <span class="stat-label">Years</span>
    </div>
  </div>

  <div class="profile-links-fancy">
    {%- if _author.email -%}
      <a href="mailto:{{ _author.email }}" class="fancy-link">
        <i class="fas fa-envelope"></i>
        Get in Touch
      </a>
    {%- endif -%}

    {%- if _author.github -%}
      <a href="https://github.com/{{ _author.github }}" class="fancy-link" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
        View Projects
      </a>
    {%- endif -%}

    {%- if _author.linkedin -%}
      <a href="https://www.linkedin.com/in/{{ _author.linkedin }}" class="fancy-link" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
        Professional Profile
      </a>
    {%- endif -%}

    <a href="/archive.html" class="fancy-link">
      <i class="fas fa-archive"></i>
      All Articles
    </a>
  </div>

  <div class="profile-footer">
    <p class="footer-text">
      Exploring Math &amp; AI<br>
      <span style="color:#ef4444;">â™¥</span> Reinforcement Learning
    </p>
  </div>
</div>
